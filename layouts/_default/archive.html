{{ define "head" }}
<style>
    .archive-list {
        list-style: none;
        padding: 0;
    }

    .archive-year {
        margin-top: 2rem;
        margin-bottom: 1rem;
    }

    .archive-year h2 {
        font-size: 1.5rem;
        color: var(--text-light);
        margin-bottom: 1rem;
    }

    .archive-item {
        padding: 0.8rem 0;
        border-bottom: 1px solid #f5f5f5;
        display: flex;
        align-items: baseline;
        gap: 1rem;
    }

    .archive-item:last-child {
        border-bottom: none;
    }

    .archive-meta {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .archive-date {
        color: var(--text-light);
        font-size: 0.9rem;
    }

    .archive-description {
        color: var(--text-light);
        font-size: 0.9rem;
    }

    .archive-title a {
        color: var(--text-color);
        text-decoration: none;
        border-bottom: none;
    }

    .archive-title a:hover {
        color: var(--link-color);
    }
</style>
{{ end }}

{{ define "main" }}
<h1>{{ .Title }}</h1>
{{ if .Content }}
<div class="description">
    {{ .Content }}
</div>
{{ end }}

{{ $puzzles := where .Site.RegularPages "Section" "puzzles" }}
{{ $byYear := $puzzles.GroupByDate "2006" "desc" }}

{{ if $byYear }}
    {{ range $byYear }}
    <div class="archive-year">
        <h2>{{ .Key }}</h2>
        <ul class="archive-list">
            {{ range .Pages }}
            <li class="archive-item">
                <div class="archive-title">
                    <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                </div>
                <div class="archive-meta">
                    <time class="archive-date" datetime="{{ .Date.Format "2006-01-02" }}">
                        {{ .Date.Format "January 2, 2006" }}
                    </time>
                    {{ if .Description }}
                    <div class="archive-description">{{ .Description }}</div>
                    {{ end }}
                </div>
            </li>
            {{ end }}
        </ul>
    </div>
    {{ end }}
{{ else }}
    <p>No puzzles yet. Check back soon!</p>
{{ end }}

{{ end }}
